# PenRoseBlog - 个人博客系统

> **📋 最新更新**: 2025年12月10日 - 完成全栈结构优化与样式分离，详见更新日志

## 项目概述

PenRoseBlog 是一个功能完善的全栈个人博客系统，采用前后端分离架构。该项目旨在提供一个现代化、功能丰富的博客平台，支持用户注册登录、文章发布、社交互动等多种功能。

### 技术栈

**后端：**
- Spring Boot 3.5.7
- Java 17
- MySQL 数据库
- JPA/Hibernate (ORM)
- Flyway (数据库版本迁移)
- Spring Security + JWT (认证授权)
- MapStruct (对象映射)
- Redis (缓存和验证码存储)
- RabbitMQ (消息队列)
- Spring AI (AI助手集成)

**前端：**
- React 18.3.1
- Vite 7.1.7 (构建工具)
- React Router DOM 7.9.5 (路由)
- Axios 1.13.1 (HTTP客户端)
- TipTap (富文本编辑器)
- Marked (Markdown解析)
- JWT Decode (token解析)
- Live2D (看板娘交互)

## 项目结构

```
PenRoseBlog/
├── backend/                    # 后端项目
│   ├── src/
│   │   └── main/
│   │       ├── java/com/kirisamemarisa/blog/
│   │       │   ├── ai/        # AI助手相关
│   │       │   ├── common/    # 公共工具类
│   │       │   ├── config/    # 配置类
│   │       │   ├── controller/# 控制器层
│   │       │   ├── dto/       # 数据传输对象
│   │       │   ├── events/    # 事件发布和处理
│   │       │   ├── mapper/    # MapStruct映射器
│   │       │   ├── model/     # 数据模型/实体类
│   │       │   ├── repository/# 数据访问层
│   │       │   └── service/   # 业务逻辑层
│   │       └── resources/
│   │           └── application.properties.sample
│   ├── pom.xml                # Maven配置文件
│   └── mvnw                   # Maven Wrapper
├── front/                     # 前端项目
│   ├── public/               # 静态资源
│   ├── src/
│   │   ├── components/       # React组件
│   │   │   ├── article/     # 文章相关组件
│   │   │   ├── blogeditor/  # 编辑器组件
│   │   │   ├── common/      # 公共组件
│   │   │   ├── home/        # 首页组件
│   │   │   ├── layout/      # 布局组件
│   │   │   └── selfspace/   # 个人空间组件
│   │   ├── contexts/        # React Context
│   │   ├── hooks/           # 自定义Hooks
│   │   ├── pages/           # 页面组件
│   │   ├── styles/          # 样式文件 (CSS)
│   │   │   ├── components/  # 组件样式
│   │   │   ├── pages/       # 页面样式
│   │   │   └── ...          # 其他样式
│   │   ├── utils/           # 工具函数
│   │   ├── App.jsx          # 应用根组件
│   │   └── main.jsx         # 入口文件
│   ├── package.json         # npm配置文件
│   └── vite.config.js       # Vite配置
└── sources/                 # 资源文件存储目录
```

## 核心业务逻辑实现

### 1. 文章浏览量统计 (Hybrid View Counting)
为了在高并发下保证性能并防止刷量，系统采用了 **Redis + MySQL + 定时任务** 的混合策略：
- **实时计数**: 用户的浏览请求首先在 Redis 中进行原子计数 (`INCR`)。
- **防刷机制**: 使用 Redis Set 记录 `blog:post:viewed_users:{postId}`，24小时内同一用户（或IP）对同一文章的重复浏览不计入。
- **持久化**: 
  - 浏览记录 (`BlogViewRecord`) 异步写入数据库，用于历史回溯。
  - 定时任务 (`@Scheduled`) 每隔一段时间将 Redis 中的浏览增量同步回 MySQL 的 `blog_post` 表，确保数据最终一致性。

### 2. 消息通知系统 (Notification System)
系统实现了多渠道的消息通知，并针对不同类型进行了优化：
- **实时推送**: 集成 RabbitMQ 和 SSE (Server-Sent Events)，实现低延迟的消息送达。
- **私信去重**: 针对 `PRIVATE_MESSAGE` 类型的通知，系统不再单独向 `notification` 表写入数据，而是直接查询 `private_message` 表，避免了数据冗余和状态不同步的问题。
- **异步处理**: 邮件发送等耗时操作通过 RabbitMQ 异步解耦，提升接口响应速度。

## 数据库模型

### 核心实体

#### 1. User (用户表)
```sql
CREATE TABLE user (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(15) UNIQUE NOT NULL,    -- 用户名 (5-15字符)
    password VARCHAR(150),                   -- 密码 (BCrypt加密，第三方登录时可为空)
    gender VARCHAR(2),                       -- 性别 (男/女/保密)
    phone_number VARCHAR(20),                -- 手机号码
    qq_open_id VARCHAR(50) UNIQUE,           -- QQ OpenID
    wechat_union_id VARCHAR(50) UNIQUE,      -- 微信 UnionID
    login_provider VARCHAR(20)               -- 登录方式 (LOCAL/QQ/WECHAT/PHONE)
);
```

#### 2. UserProfile (用户资料表)
```sql
CREATE TABLE user_profile (
    user_id BIGINT PRIMARY KEY,              -- 与User表一对一关联
    nickname VARCHAR(255),                   -- 昵称
    avatar_url VARCHAR(500),                 -- 头像URL
    background_url VARCHAR(500),             -- 背景图URL
    gender VARCHAR(2),                       -- 性别
    FOREIGN KEY (user_id) REFERENCES user(id)
);
```

#### 3. BlogPost (博客文章表)
```sql
CREATE TABLE blog_post (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(255),                      -- 标题
    user_id BIGINT NOT NULL,                 -- 作者ID
    cover_image_url VARCHAR(500),            -- 封面图URL
    content TEXT NOT NULL,                   -- 正文内容
    directory TEXT,                          -- 目录/大纲
    like_count BIGINT DEFAULT 0,             -- 点赞数
    comment_count BIGINT DEFAULT 0,          -- 评论数
    share_count BIGINT DEFAULT 0,            -- 分享数
    favorite_count BIGINT DEFAULT 0,         -- 收藏数
    repost_count INT DEFAULT 0,              -- 转发数
    is_repost BOOLEAN DEFAULT FALSE,         -- 是否为转发
    original_post_id BIGINT,                 -- 原文章ID (转发时使用)
    category_id BIGINT,                      -- 分类ID
    created_at TIMESTAMP NOT NULL,           -- 创建时间
    updated_at TIMESTAMP,                    -- 更新时间
    FOREIGN KEY (user_id) REFERENCES user(id),
    FOREIGN KEY (original_post_id) REFERENCES blog_post(id),
    FOREIGN KEY (category_id) REFERENCES category(id)
);
```

#### 4. Category (文章分类表)
```sql
CREATE TABLE category (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50) UNIQUE NOT NULL,        -- 分类名称
    description VARCHAR(200),                -- 分类描述
    created_at TIMESTAMP NOT NULL            -- 创建时间
);
```

#### 5. Tag (文章标签表)
```sql
CREATE TABLE tag (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50) UNIQUE NOT NULL,        -- 标签名称
    created_at TIMESTAMP NOT NULL            -- 创建时间
);
```

#### 6. BlogPostTag (文章-标签关联表)
```sql
CREATE TABLE blog_post_tag (
    blog_post_id BIGINT NOT NULL,
    tag_id BIGINT NOT NULL,
    PRIMARY KEY (blog_post_id, tag_id),
    FOREIGN KEY (blog_post_id) REFERENCES blog_post(id),
    FOREIGN KEY (tag_id) REFERENCES tag(id)
);
```

#### 7. BlogPostLike (文章点赞表)
```sql
CREATE TABLE blog_post_like (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,                 -- 点赞用户ID
    blog_post_id BIGINT NOT NULL,            -- 文章ID
    created_at TIMESTAMP NOT NULL,           -- 点赞时间
    UNIQUE KEY (user_id, blog_post_id),
    FOREIGN KEY (user_id) REFERENCES user(id),
    FOREIGN KEY (blog_post_id) REFERENCES blog_post(id)
);
```

#### 8. BlogPostFavorite (文章收藏表)
```sql
CREATE TABLE blog_post_favorite (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,                 -- 收藏用户ID
    blog_post_id BIGINT NOT NULL,            -- 文章ID
    created_at TIMESTAMP NOT NULL,           -- 收藏时间
    UNIQUE KEY (user_id, blog_post_id),
    FOREIGN KEY (user_id) REFERENCES user(id),
    FOREIGN KEY (blog_post_id) REFERENCES blog_post(id)
);
```

#### 9. Comment (评论表)
```sql
CREATE TABLE comment (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    blog_post_id BIGINT NOT NULL,            -- 文章ID
    user_id BIGINT NOT NULL,                 -- 评论用户ID
    content TEXT NOT NULL,                   -- 评论内容
    like_count BIGINT DEFAULT 0,             -- 点赞数
    created_at TIMESTAMP NOT NULL,           -- 评论时间
    FOREIGN KEY (blog_post_id) REFERENCES blog_post(id),
    FOREIGN KEY (user_id) REFERENCES user(id)
);
```

#### 10. CommentReply (评论回复表)
```sql
CREATE TABLE comment_reply (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    comment_id BIGINT NOT NULL,              -- 父评论ID
    user_id BIGINT NOT NULL,                 -- 回复用户ID
    content TEXT NOT NULL,                   -- 回复内容
    like_count BIGINT DEFAULT 0,             -- 点赞数
    created_at TIMESTAMP NOT NULL,           -- 回复时间
    FOREIGN KEY (comment_id) REFERENCES comment(id),
    FOREIGN KEY (user_id) REFERENCES user(id)
);
```

#### 11. Follow (关注关系表)
```sql
CREATE TABLE follow (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    follower_id BIGINT NOT NULL,             -- 关注者ID
    following_id BIGINT NOT NULL,            -- 被关注者ID
    created_at TIMESTAMP NOT NULL,           -- 关注时间
    UNIQUE KEY (follower_id, following_id),
    FOREIGN KEY (follower_id) REFERENCES user(id),
    FOREIGN KEY (following_id) REFERENCES user(id)
);
```

#### 12. FriendRequest (好友请求表)
```sql
CREATE TABLE friend_request (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    sender_id BIGINT NOT NULL,               -- 发送者ID
    receiver_id BIGINT NOT NULL,             -- 接收者ID
    status VARCHAR(20) NOT NULL,             -- 状态 (PENDING/ACCEPTED/REJECTED)
    created_at TIMESTAMP NOT NULL,           -- 创建时间
    responded_at TIMESTAMP,                  -- 响应时间
    FOREIGN KEY (sender_id) REFERENCES user(id),
    FOREIGN KEY (receiver_id) REFERENCES user(id)
);
```

#### 13. PrivateMessage (私信表)
```sql
CREATE TABLE private_message (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    sender_id BIGINT NOT NULL,               -- 发送者ID
    receiver_id BIGINT NOT NULL,             -- 接收者ID
    content TEXT,                            -- 消息内容
    type VARCHAR(20) NOT NULL,               -- 消息类型 (TEXT/IMAGE/VIDEO/FILE)
    media_url VARCHAR(500),                  -- 媒体URL
    is_recalled BOOLEAN DEFAULT FALSE,       -- 是否撤回
    is_deleted_by_sender BOOLEAN DEFAULT FALSE,   -- 发送者是否删除
    is_deleted_by_receiver BOOLEAN DEFAULT FALSE, -- 接收者是否删除
    created_at TIMESTAMP NOT NULL,           -- 发送时间
    FOREIGN KEY (sender_id) REFERENCES user(id),
    FOREIGN KEY (receiver_id) REFERENCES user(id)
);
```

#### 14. PrivateMessageStatus (私信状态表)
```sql
CREATE TABLE private_message_status (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    message_id BIGINT NOT NULL,              -- 消息ID
    user_id BIGINT NOT NULL,                 -- 用户ID
    is_read BOOLEAN DEFAULT FALSE,           -- 是否已读
    read_at TIMESTAMP,                       -- 阅读时间
    FOREIGN KEY (message_id) REFERENCES private_message(id),
    FOREIGN KEY (user_id) REFERENCES user(id)
);
```

#### 15. BlockedUser (拉黑用户表)
```sql
CREATE TABLE blocked_user (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    blocker_id BIGINT NOT NULL,              -- 拉黑者ID
    blocked_id BIGINT NOT NULL,              -- 被拉黑者ID
    created_at TIMESTAMP NOT NULL,           -- 拉黑时间
    UNIQUE KEY (blocker_id, blocked_id),
    FOREIGN KEY (blocker_id) REFERENCES user(id),
    FOREIGN KEY (blocked_id) REFERENCES user(id)
);
```

#### 16. BlogViewRecord (文章浏览记录表)
```sql
CREATE TABLE blog_view_record (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    blog_post_id BIGINT NOT NULL,            -- 文章ID
    user_id BIGINT,                          -- 浏览用户ID (可为空，游客)
    viewed_at TIMESTAMP NOT NULL,            -- 浏览时间
    FOREIGN KEY (blog_post_id) REFERENCES blog_post(id),
    FOREIGN KEY (user_id) REFERENCES user(id)
);
```

## API接口文档

### 基础URL
- 开发环境: `http://localhost:8080/api`
- 生产环境: 根据部署配置

### 认证方式
大部分API需要JWT Token认证，在请求头中添加：
```
Authorization: Bearer <your_jwt_token>
```

---

### 1. 用户模块 (/api/user)

#### 1.1 用户注册
**接口**: `POST /api/user/register`

**请求体**:
```json
{
  "username": "testuser",
  "password": "Test1234",
  "gender": "男"
}
```

**响应**:
```json
{
  "code": 200,
  "message": "注册成功",
  "data": 1  // 用户ID
}
```

#### 1.2 用户登录
**接口**: `POST /api/user/login`

**请求体**:
```json
{
  "username": "testuser",
  "password": "Test1234"
}
```

**响应**:
```json
{
  "code": 200,
  "message": "登录成功",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "userId": 1,
    "nickname": "Cat1",
    "avatarUrl": "/avatar/1/xxx.jpg",
    "backgroundUrl": "/background/1/xxx.jpg",
    "gender": "男"
  }
}
```

#### 1.3 获取用户资料
**接口**: `GET /api/user/profile/{userId}`

**响应**:
```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "id": 1,
    "nickname": "Cat1",
    "avatarUrl": "/avatar/1/xxx.jpg",
    "backgroundUrl": "/background/1/xxx.jpg",
    "gender": "男"
  }
}
```

#### 1.4 更新用户资料
**接口**: `PUT /api/user/profile/{userId}`

**请求头**: 需要Authorization

**请求体**:
```json
{
  "nickname": "新昵称",
  "avatarUrl": "/avatar/1/new.jpg",
  "backgroundUrl": "/background/1/new.jpg",
  "gender": "女"
}
```

**响应**:
```json
{
  "code": 200,
  "message": "更新成功",
  "data": null
}
```

#### 1.5 上传头像
**接口**: `POST /api/user/profile/{userId}/avatar`

**请求头**: 需要Authorization

**请求类型**: multipart/form-data

**请求参数**:
- `file`: 图片文件

**响应**:
```json
{
  "code": 200,
  "message": "上传成功",
  "data": "/avatar/1/uuid.jpg"
}
```

#### 1.6 上传背景图
**接口**: `POST /api/user/profile/{userId}/background`

**请求头**: 需要Authorization

**请求类型**: multipart/form-data

**请求参数**:
- `file`: 图片文件

**响应**:
```json
{
  "code": 200,
  "message": "上传成功",
  "data": "/background/1/uuid.jpg"
}
```

#### 1.7 修改密码
**接口**: `POST /api/user/change-password`

**请求头**: 需要Authorization

**请求体**:
```json
{
  "oldPassword": "OldPass123",
  "newPassword": "NewPass123"
}
```

**响应**:
```json
{
  "code": 200,
  "message": "密码修改成功",
  "data": null
}
```

---

### 2. 文章模块 (/api/blogpost)

#### 2.1 创建文章
**接口**: `POST /api/blogpost`

**请求体**:
```json
{
  "title": "文章标题",
  "content": "文章内容",
  "userId": 1,
  "coverImageUrl": "/cover/xxx.jpg",
  "directory": "目录内容",
  "categoryName": "技术",
  "tags": ["Java", "Spring Boot"]
}
```

**响应**:
```json
{
  "code": 200,
  "message": "创建成功",
  "data": 1  // 文章ID
}
```

#### 2.2 获取文章详情
**接口**: `GET /api/blogpost/{id}?currentUserId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "id": 1,
    "title": "文章标题",
    "content": "文章内容",
    "userId": 1,
    "coverImageUrl": "/cover/xxx.jpg",
    "directory": "目录内容",
    "likeCount": 10,
    "commentCount": 5,
    "shareCount": 2,
    "favoriteCount": 3,
    "repostCount": 1,
    "createdAt": "2024-01-01T12:00:00",
    "updatedAt": "2024-01-02T12:00:00",
    "repost": false,
    "originalPostId": null,
    "likedByCurrentUser": true,
    "favoritedByCurrentUser": false,
    "authorNickname": "作者昵称",
    "authorAvatarUrl": "/avatar/1/xxx.jpg",
    "categoryName": "技术",
    "tags": ["Java", "Spring Boot"]
  }
}
```

#### 2.3 文章列表（分页）
**接口**: `GET /api/blogpost?page={page}&size={size}&currentUserId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "content": [...],  // 文章列表
    "totalElements": 100,
    "totalPages": 10,
    "pageNumber": 0,
    "pageSize": 10,
    "first": true,
    "last": false
  }
}
```

#### 2.4 点赞/取消点赞文章
**接口**: `POST /api/blogpost/{id}/like?userId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "操作成功",
  "data": true  // true表示已点赞，false表示取消点赞
}
```

#### 2.5 更新文章
**接口**: `PUT /api/blogpost/{id}`

**请求体**:
```json
{
  "coverImageUrl": "/cover/new.jpg",
  "content": "新的内容",
  "directory": "新的目录",
  "categoryName": "新分类",
  "tags": ["新标签1", "新标签2"]
}
```

**响应**:
```json
{
  "code": 200,
  "message": "更新成功",
  "data": true
}
```

#### 2.6 删除文章
**接口**: `DELETE /api/blogpost/{id}`

**响应**:
```json
{
  "code": 200,
  "message": "删除成功",
  "data": null
}
```

#### 2.7 上传文章封面
**接口**: `POST /api/blogpost/withcover`

**请求类型**: multipart/form-data

**请求参数**:
- `cover`: 封面图片文件
- `title`: 标题
- `content`: 内容
- `userId`: 用户ID
- `directory`: 目录

**响应**:
```json
{
  "code": 200,
  "message": "创建成功",
  "data": 1
}
```

#### 2.8 更新文章并上传封面
**接口**: `PUT /api/blogpost/{id}/withcover`

**请求类型**: multipart/form-data

**请求参数**:
- `cover`: 封面图片文件（可选）
- `content`: 内容
- `directory`: 目录

**响应**:
```json
{
  "code": 200,
  "message": "更新成功",
  "data": true
}
```

#### 2.9 上传文章内媒体
**接口**: `POST /api/blogpost/media`

**请求类型**: multipart/form-data

**请求参数**:
- `file`: 媒体文件
- `userId`: 用户ID

**响应**:
```json
{
  "code": 200,
  "message": "上传成功",
  "data": "/blogpostcontent/1/uuid.jpg"
}
```

---

### 3. 评论模块 (/api/comment 和 /api/blogpost)

#### 3.1 添加评论
**接口**: `POST /api/blogpost/comment`

**请求体**:
```json
{
  "blogPostId": 1,
  "userId": 1,
  "content": "评论内容"
}
```

**响应**:
```json
{
  "code": 200,
  "message": "评论成功",
  "data": 1  // 评论ID
}
```

#### 3.2 获取文章评论列表
**接口**: `GET /api/blogpost/{id}/comments?page={page}&size={size}&currentUserId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "content": [
      {
        "id": 1,
        "content": "评论内容",
        "userId": 1,
        "blogPostId": 1,
        "likeCount": 5,
        "createdAt": "2024-01-01T12:00:00",
        "likedByCurrentUser": false,
        "authorNickname": "评论者昵称",
        "authorAvatarUrl": "/avatar/1/xxx.jpg"
      }
    ],
    "totalElements": 50,
    "totalPages": 5,
    "pageNumber": 0,
    "pageSize": 10
  }
}
```

#### 3.3 点赞/取消点赞评论
**接口**: `POST /api/blogpost/comment/{id}/like?userId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "操作成功",
  "data": true
}
```

#### 3.4 删除评论
**接口**: `DELETE /api/comment/{commentId}`

**响应**:
```json
{
  "code": 200,
  "message": "删除成功",
  "data": null
}
```

---

### 4. 评论回复模块 (/api/comment-reply)

#### 4.1 添加回复
**接口**: `POST /api/comment-reply`

**请求体**:
```json
{
  "commentId": 1,
  "userId": 1,
  "content": "回复内容"
}
```

**响应**:
```json
{
  "code": 200,
  "message": "回复成功",
  "data": 1  // 回复ID
}
```

#### 4.2 获取评论的回复列表
**接口**: `GET /api/comment-reply/list/{commentId}?page={page}&size={size}&currentUserId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "content": [...],
    "totalElements": 20,
    "totalPages": 2,
    "pageNumber": 0,
    "pageSize": 10
  }
}
```

#### 4.3 点赞/取消点赞回复
**接口**: `POST /api/comment-reply/{replyId}/like?userId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "操作成功",
  "data": true
}
```

#### 4.4 删除回复
**接口**: `DELETE /api/comment-reply/{replyId}`

**响应**:
```json
{
  "code": 200,
  "message": "删除成功",
  "data": null
}
```

---

### 5. 关注模块 (/api/follow)

#### 5.1 关注用户
**接口**: `POST /api/follow/{targetId}?userId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "关注成功",
  "data": true
}
```

#### 5.2 取消关注
**接口**: `DELETE /api/follow/{targetId}?userId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "取消关注成功",
  "data": null
}
```

#### 5.3 获取粉丝列表
**接口**: `GET /api/follow/followers?userId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "获取成功",
  "data": [
    {
      "userId": 2,
      "nickname": "粉丝1",
      "avatarUrl": "/avatar/2/xxx.jpg",
      "createdAt": "2024-01-01T12:00:00"
    }
  ]
}
```

#### 5.4 获取关注列表
**接口**: `GET /api/follow/following?userId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "获取成功",
  "data": [...]
}
```

---

### 6. 好友模块 (/api/friends)

#### 6.1 发送好友请求
**接口**: `POST /api/friends/request/{targetId}?userId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "好友请求已发送",
  "data": true
}
```

#### 6.2 获取待处理的好友请求
**接口**: `GET /api/friends/pending?userId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "获取成功",
  "data": [
    {
      "id": 1,
      "senderId": 2,
      "senderNickname": "发送者昵称",
      "senderAvatarUrl": "/avatar/2/xxx.jpg",
      "status": "PENDING",
      "createdAt": "2024-01-01T12:00:00"
    }
  ]
}
```

#### 6.3 响应好友请求
**接口**: `POST /api/friends/respond/{requestId}?accept={true/false}`

**响应**:
```json
{
  "code": 200,
  "message": "已接受好友请求",
  "data": true
}
```

#### 6.4 获取好友列表
**接口**: `GET /api/friends/list?userId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "获取成功",
  "data": [
    {
      "userId": 3,
      "nickname": "好友1",
      "avatarUrl": "/avatar/3/xxx.jpg"
    }
  ]
}
```

#### 6.5 获取好友列表（分页）
**接口**: `GET /api/friends/list/page?userId={userId}&page={page}&size={size}`

**响应**:
```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "content": [...],
    "totalElements": 50,
    "totalPages": 5
  }
}
```

#### 6.6 获取好友ID列表
**接口**: `GET /api/friends/ids?userId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "获取成功",
  "data": [2, 3, 4, 5]
}
```

#### 6.7 检查是否为好友
**接口**: `GET /api/friends/isFriend/{otherId}?userId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "查询成功",
  "data": true
}
```

#### 6.8 订阅好友请求通知 (SSE)
**接口**: `GET /api/friends/subscribe?userId={userId}`

**响应类型**: text/event-stream

**说明**: 使用Server-Sent Events实时接收好友请求通知

---

### 7. 私信模块 (/api/messages)

#### 7.1 发送文本消息
**接口**: `POST /api/messages/text/{otherId}?userId={userId}`

**请求体**:
```json
{
  "content": "消息内容"
}
```

**响应**:
```json
{
  "code": 200,
  "message": "发送成功",
  "data": 1  // 消息ID
}
```

#### 7.2 发送媒体消息
**接口**: `POST /api/messages/media/{otherId}?userId={userId}`

**请求类型**: multipart/form-data

**请求参数**:
- `file`: 媒体文件
- `type`: 消息类型 (IMAGE/VIDEO/FILE)

**响应**:
```json
{
  "code": 200,
  "message": "发送成功",
  "data": 1
}
```

#### 7.3 上传私信媒体文件
**接口**: `POST /api/messages/upload?userId={userId}`

**请求类型**: multipart/form-data

**请求参数**:
- `file`: 媒体文件

**响应**:
```json
{
  "code": 200,
  "message": "上传成功",
  "data": "/files/messages/xxx.jpg"
}
```

#### 7.4 获取与某人的对话
**接口**: `GET /api/messages/conversation/{otherId}?userId={userId}&page={page}&size={size}`

**响应**:
```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "content": [
      {
        "id": 1,
        "senderId": 1,
        "receiverId": 2,
        "content": "消息内容",
        "type": "TEXT",
        "mediaUrl": null,
        "isRecalled": false,
        "createdAt": "2024-01-01T12:00:00",
        "isRead": true,
        "readAt": "2024-01-01T12:05:00"
      }
    ],
    "totalElements": 100,
    "totalPages": 10
  }
}
```

#### 7.5 获取对话列表
**接口**: `GET /api/messages/conversation/list?userId={userId}&page={page}&size={size}`

**响应**:
```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "content": [
      {
        "otherUserId": 2,
        "otherUserNickname": "对方昵称",
        "otherUserAvatarUrl": "/avatar/2/xxx.jpg",
        "lastMessageContent": "最后一条消息",
        "lastMessageTime": "2024-01-01T12:00:00",
        "unreadCount": 3
      }
    ],
    "totalElements": 20,
    "totalPages": 2
  }
}
```

#### 7.6 标记对话为已读
**接口**: `POST /api/messages/conversation/{otherId}/read?userId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "标记成功",
  "data": null
}
```

#### 7.7 获取未读消息总数
**接口**: `GET /api/messages/unread/total?userId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "获取成功",
  "data": 10
}
```

#### 7.8 撤回消息
**接口**: `POST /api/messages/recall`

**请求体**:
```json
{
  "messageId": 1,
  "userId": 1
}
```

**响应**:
```json
{
  "code": 200,
  "message": "撤回成功",
  "data": null
}
```

#### 7.9 删除消息
**接口**: `POST /api/messages/delete`

**请求体**:
```json
{
  "messageId": 1,
  "userId": 1
}
```

**响应**:
```json
{
  "code": 200,
  "message": "删除成功",
  "data": null
}
```

#### 7.10 查看对话（标记已读）
**接口**: `GET /api/messages/conversation/view/{otherId}?userId={userId}&page={page}&size={size}`

**响应**:
```json
{
  "code": 200,
  "message": "获取成功",
  "data": {...}  // 同conversation接口
}
```

#### 7.11 订阅消息通知 (SSE)
**接口**: `GET /api/messages/subscribe/{otherId}?userId={userId}`

**响应类型**: text/event-stream

**说明**: 使用Server-Sent Events实时接收新消息

#### 7.12 消息流（WebFlux）
**接口**: `GET /api/messages/stream/{otherId}?userId={userId}`

**响应类型**: text/event-stream

**说明**: 使用Reactor实现的响应式消息流

---

### 8. 拉黑模块 (/api/block)

#### 8.1 拉黑/取消拉黑用户
**接口**: `POST /api/block/toggle/{targetId}?userId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "操作成功",
  "data": true  // true表示已拉黑，false表示取消拉黑
}
```

#### 8.2 检查拉黑状态
**接口**: `GET /api/block/status/{targetId}?userId={userId}`

**响应**:
```json
{
  "code": 200,
  "message": "查询成功",
  "data": false
}
```

---

### 9. 用户搜索模块 (/api/users/search)

#### 9.1 搜索用户
**接口**: `GET /api/users/search?keyword={keyword}&page={page}&size={size}`

**响应**:
```json
{
  "code": 200,
  "message": "搜索成功",
  "data": {
    "content": [
      {
        "userId": 1,
        "username": "testuser",
        "nickname": "昵称",
        "avatarUrl": "/avatar/1/xxx.jpg",
        "gender": "男"
      }
    ],
    "totalElements": 5,
    "totalPages": 1
  }
}
```

---

### 10. 文章浏览模块 (/api/blogview)

#### 10.1 记录浏览
**接口**: `POST /api/blogview/record`

**请求体**:
```json
{
  "blogPostId": 1,
  "userId": 1  // 可选，游客为null
}
```

**响应**:
```json
{
  "code": 200,
  "message": "记录成功",
  "data": true
}
```

#### 10.2 获取浏览统计
**接口**: `GET /api/blogview/{blogPostId}`

**响应**:
```json
{
  "code": 200,
  "message": "获取成功",
  "data": {
    "blogPostId": 1,
    "totalViews": 1000,
    "uniqueViewers": 500,
    "todayViews": 50
  }
}
```

---

### 11. OAuth2登录模块 (/api/auth)

#### 11.1 OAuth2登录（QQ/微信）
**接口**: `POST /api/auth/oauth2/login`

**请求体**:
```json
{
  "code": "AUTHORIZATION_CODE",
  "state": "CSRF_TOKEN",
  "provider": "QQ"  // 或 "WECHAT"
}
```

**响应**:
```json
{
  "code": 200,
  "message": "登录成功",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "userId": 1,
    "nickname": "QQ用户",
    "avatarUrl": "https://...",
    "backgroundUrl": "",
    "gender": ""
  }
}
```

#### 11.2 发送验证码
**接口**: `POST /api/auth/verification-code/send`

**请求体**:
```json
{
  "phoneNumber": "13800138000"
}
```

**响应**:
```json
{
  "code": 200,
  "message": "验证码已发送",
  "data": true
}
```

#### 11.3 手机验证码登录
**接口**: `POST /api/auth/phone/login`

**请求体**:
```json
{
  "phoneNumber": "13800138000",
  "verificationCode": "123456"
}
```

**响应**:
```json
{
  "code": 200,
  "message": "登录成功",
  "data": {
    "token": "...",
    "userId": 1,
    "nickname": "手机用户",
    ...
  }
}
```

---

## 前端页面结构

### 主要页面

1. **Welcome (欢迎/登录注册页)** - `/welcome`
   - 用户登录表单
   - 用户注册表单
   - QQ/微信/手机登录选项

2. **Home (首页)** - `/` 或 `/home`
   - 文章流展示
   - 文章分类筛选
   - 标签筛选
   - 搜索功能

3. **SelfSpace (个人空间)** - `/selfspace`
   - 个人资料展示
   - 我的文章列表
   - 粉丝/关注列表
   - 个人设置

4. **BlogEditor (文章编辑器)** - `/blog-edit`
   - 富文本编辑器 (TipTap)
   - Markdown支持
   - 图片/视频上传
   - 分类和标签选择

5. **ArticleDetail (文章详情)** - `/post/:id`
   - 文章内容展示
   - 评论区
   - 点赞/收藏/分享功能
   - AI助手（文章摘要、问答）

6. **MessageList (消息列表)** - `/messages`
   - 对话列表
   - 未读消息提示
   - 搜索对话

7. **ConversationDetail (对话详情)** - `/conversation/:otherId`
   - 消息历史
   - 发送文本/图片/文件
   - 实时消息推送

8. **UserSearch (用户搜索)** - `/users/search`
   - 搜索用户
   - 查看用户资料
   - 关注/加好友

9. **FriendsList (好友列表)** - `/friends`
   - 好友列表
   - 在线状态
   - 快捷发送消息

10. **PendingFriendRequests (好友请求)** - `/friends/pending`
    - 待处理的好友请求
    - 接受/拒绝操作

11. **FollowingList (关注列表)** - `/follows`
    - 我关注的人
    - 关注我的人
    - 取消关注

12. **OAuth2Callback (OAuth2回调页)** - `/auth/qq/callback` 或 `/auth/wechat/callback`
    - 处理第三方登录回调
    - 自动跳转到首页

### 主要组件

#### Layout组件
- **MainLayout** - 整体布局，包含顶部导航栏和侧边栏
- **Header** - 顶部导航栏
- **Sidebar** - 侧边导航栏
- **Footer** - 页脚

#### Common组件
- **NotificationBell** - 通知铃铛
- **FriendRequestButton** - 好友请求按钮
- **FollowButton** - 关注按钮
- **Loading** - 加载动画

#### Article组件
- **ArticleCard** - 文章卡片
- **ArticleList** - 文章列表
- **CommentSection** - 评论区
- **TagCloud** - 标签云

#### BlogEditor组件
- **TiptapEditor** - 富文本编辑器
- **ToolbarMenu** - 编辑器工具栏
- **ImageUpload** - 图片上传
- **VideoUpload** - 视频上传

---

## 已实现功能

### 用户系统
✅ 用户注册登录（本地账号）
✅ 第三方登录（QQ、微信、手机验证码）
✅ 用户资料管理（昵称、头像、背景图、性别）
✅ 密码修改
✅ JWT认证授权

### 文章系统
✅ 文章创建、编辑、删除
✅ 文章详情查看
✅ 文章列表（分页）
✅ 文章点赞/取消点赞
✅ 文章分类
✅ 文章标签
✅ 文章收藏
✅ 文章转发
✅ **文章浏览统计（已优化：实现防刷机制、性能优化）**
✅ 富文本编辑器（TipTap）
✅ Markdown支持
✅ 图片/视频上传

### 评论系统
✅ 文章评论
✅ 评论点赞
✅ 评论回复
✅ 回复点赞
✅ 评论/回复删除
✅ 评论分页

### 社交系统
✅ 用户关注/取消关注
✅ 粉丝列表
✅ 关注列表
✅ 好友系统（发送请求、接受/拒绝）
✅ 好友列表
✅ 用户搜索
✅ 用户拉黑

### 私信系统
✅ 一对一私信
✅ 文本消息
✅ 图片/视频/文件消息
✅ 消息已读/未读状态
✅ 未读消息计数
✅ 对话列表
✅ 消息撤回
✅ 消息删除
✅ 实时消息推送（SSE）

### 通知系统
✅ 好友请求通知
✅ 消息通知
✅ 实时通知推送（RabbitMQ）
✅ 通知铃铛显示

### AI功能
✅ AI助手集成（Spring AI）
✅ 文章内容总结
✅ 智能问答
✅ 支持OpenAI兼容API（如DeepSeek）

---

## 待完善功能

> **📋 完整优化规划**: 请查看 [优化规划.md](./优化规划.md) 获取详细的功能规划、技术债务清单和开发路线图

### 紧急优先级 🔴（1-2周）

#### 安全问题
- [ ] **修复前端依赖安全漏洞**（9个漏洞：5个严重、1个高危、3个低危）
  - 影响包：gh-pages, minimist, node-fetch, tmp等
  - 执行 `npm audit fix` 或手动升级依赖
- [ ] **添加接口限流机制**
  - 防止API滥用和DDoS攻击
  - 针对登录、注册等敏感接口
- [ ] **加强CSRF防护**
  - 配置Spring Security CSRF Token
  - 前端添加Token处理

#### 功能完善
#### 功能完善
- [ ] **实现文章收藏功能的服务层和控制器**
  - BlogPostFavoriteService接口和实现
  - 收藏/取消收藏API
  - 获取用户收藏列表API
  - 前端UI集成
- [ ] **实现标签管理的完整CRUD**
  - TagService接口和实现
  - 标签增删改查API
  - 热门标签统计
  - 前端标签选择器组件
- [ ] **实现分类管理的完整CRUD**
  - CategoryService接口和实现
  - 分类增删改查API
  - 分类文章统计
  - 前端分类选择组件

#### 代码质量
- [ ] **添加单元测试**（目标覆盖率50%+）
  - UserService测试
  - BlogPostService测试
  - PrivateMessageService测试
- [ ] **集成Swagger/OpenAPI**
  - 自动生成API文档
  - 在线测试接口
- [ ] **修复MapStruct映射警告**
  - 明确忽略OAuth2字段
  - 修复deleted字段映射

### 高优先级 🟡（3-4周）

#### 性能优化
- [ ] **前端打包优化**
  - 代码分割（按路由）
  - 动态import()
  - 减小bundle大小至500KB以下
- [ ] **数据库索引优化**
  - blog_post表添加索引
  - comment表添加索引
  - private_message表添加索引
- [ ] **Redis缓存策略**
  - 热门文章缓存
  - 用户信息缓存
  - 分类标签缓存

#### 用户体验
- [ ] **响应式设计改进**
  - 优化移动端布局
  - 适配平板设备
- [ ] **添加加载动画**
  - 全局Loading组件
  - 骨架屏（Skeleton Screen）
- [ ] **错误处理优化**
  - 统一错误提示
  - 友好的错误信息
- [ ] **暗黑模式支持**
  - 主题切换功能
  - 保存用户偏好

#### 搜索功能
- [ ] **文章全文搜索**
  - 集成ElasticSearch
  - 搜索建议功能
  - 高亮搜索结果

### 文章系统增强
- [ ] 文章草稿保存
- [ ] 文章定时发布
- [ ] 文章推荐算法
- [ ] 热门文章排行
- [ ] 相关文章推荐
- [ ] 文章全文搜索（ElasticSearch）

### 标签和分类增强
- [ ] 实现标签和分类的完整CRUD
- [ ] 热门标签展示
- [ ] 标签云可视化
- [ ] 分类层级结构
- [ ] 标签/分类管理后台

### 用户体验优化
- [ ] 前端界面美化
- [ ] 响应式设计完善
- [ ] 加载动画优化
- [ ] 错误提示优化
- [ ] 页面过渡动画
- [ ] 黑暗模式支持

### 性能优化
- [ ] Redis缓存优化
- [ ] 数据库索引优化
- [ ] 图片懒加载
- [ ] CDN集成
- [ ] 前端打包优化

### 安全功能
- [ ] HTTPS部署
- [ ] XSS防护增强
- [ ] CSRF防护增强
- [ ] 接口限流
- [ ] 敏感词过滤
- [ ] 图片内容审核

### 管理后台
- [ ] 用户管理
- [ ] 文章审核
- [ ] 评论管理
- [ ] 系统配置
- [ ] 数据统计
- [ ] 日志查看

### 其他功能
- [ ] 邮件通知
- [ ] 短信通知集成
- [ ] 用户签到
- [ ] 积分系统
- [ ] 用户勋章
- [ ] 文章打赏
- [ ] 付费文章
- [ ] 专栏功能
- [ ] 话题广场

---

## 开发环境配置

### 后端配置

1. **数据库配置** (application.properties)
```properties
spring.datasource.url=jdbc:mysql://localhost:3306/blogdb?useSSL=false&serverTimezone=UTC&characterEncoding=utf8&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=your_password
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
```

2. **JWT配置**
```properties
jwt.secret=your_jwt_secret_key_at_least_256_bits
```

3. **文件存储配置**
```properties
resource.sources-location=file:D:/Projects/blog/sources/
resource.avatar-location=${resource.sources-location}avatar/
resource.background-location=${resource.sources-location}background/
resource.blogpostcover-location=${resource.sources-location}blogpostcover/
resource.blogpostcontent-location=${resource.sources-location}blogpostcontent/
resource.message-media-location=D:/Projects/blog/sources/messages/
resource.message-media-access-prefix=/files/messages
```

4. **Redis配置**
```properties
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.password=
spring.data.redis.database=0
```

5. **RabbitMQ配置**
```properties
app.rabbitmq.exchange=blog.notifications
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=guest
spring.rabbitmq.password=guest
```

6. **OAuth2配置**
```properties
oauth2.qq.app-id=YOUR_QQ_APP_ID
oauth2.qq.app-key=YOUR_QQ_APP_KEY
oauth2.qq.redirect-uri=http://localhost:5173/auth/qq/callback

oauth2.wechat.app-id=YOUR_WECHAT_APP_ID
oauth2.wechat.app-secret=YOUR_WECHAT_APP_SECRET
oauth2.wechat.redirect-uri=http://localhost:5173/auth/wechat/callback
```

7. **Spring AI配置**
```properties
spring.ai.openai.api-key=${OPENAI_API_KEY}
spring.ai.openai.model=gpt-4o-mini
# For DeepSeek
# spring.ai.openai.api-base-url=https://api.deepseek.com
```

### 前端配置

1. **环境变量配置** (.env)
```properties
VITE_API_BASE_URL=http://localhost:8080
VITE_QQ_APP_ID=YOUR_QQ_APP_ID
VITE_WECHAT_APP_ID=YOUR_WECHAT_APP_ID
```

### 运行项目

#### 后端
```bash
cd backend
# 使用Maven Wrapper
./mvnw spring-boot:run

# 或者先编译再运行
./mvnw clean package -DskipTests
java -jar target/blog-0.0.1-SNAPSHOT.jar
```

#### 前端
```bash
cd front
npm install
npm run dev
```

访问 `http://localhost:5173` 查看前端页面
后端API地址: `http://localhost:8080`

---

## 部署指南

### 生产环境部署清单

1. **环境准备**
   - [ ] 安装 Java 17+
   - [ ] 安装 MySQL 8.0+
   - [ ] 安装 Redis
   - [ ] 安装 RabbitMQ
   - [ ] 安装 Nginx

2. **后端部署**
   - [ ] 配置生产环境数据库
   - [ ] 配置JWT密钥（使用环境变量）
   - [ ] 配置文件存储路径
   - [ ] 配置Redis连接
   - [ ] 配置RabbitMQ连接
   - [ ] 配置HTTPS证书
   - [ ] 打包Spring Boot应用
   - [ ] 配置systemd服务

3. **前端部署**
   - [ ] 配置生产环境API地址
   - [ ] 构建生产版本 (`npm run build`)
   - [ ] 配置Nginx反向代理
   - [ ] 配置静态文件缓存
   - [ ] 配置GZIP压缩

4. **数据库**
   - [ ] 创建数据库用户
   - [ ] 设置用户权限
   - [ ] 导入初始数据
   - [ ] 配置数据库备份

5. **安全配置**
   - [ ] 配置防火墙规则
   - [ ] 启用HTTPS
   - [ ] 配置CORS策略
   - [ ] 设置接口限流
   - [ ] 配置日志记录

6. **监控和维护**
   - [ ] 配置应用监控
   - [ ] 配置日志收集
   - [ ] 配置告警通知
   - [ ] 定期数据备份
   - [ ] 性能优化

---

## 开发规范

### 后端开发规范

1. **包结构**
   - `controller`: 控制器层，处理HTTP请求
   - `service`: 业务逻辑层
   - `repository`: 数据访问层
   - `model`: 实体类
   - `dto`: 数据传输对象
   - `mapper`: 对象映射
   - `config`: 配置类
   - `common`: 公共工具类

2. **命名规范**
   - 类名：大驼峰 (PascalCase)
   - 方法名：小驼峰 (camelCase)
   - 常量：全大写下划线分隔
   - 包名：全小写

3. **API设计规范**
   - RESTful API风格
   - 统一的响应格式 (ApiResponse)
   - 合理的HTTP状态码
   - 清晰的错误消息

4. **数据库规范**
   - 表名：小写下划线分隔
   - 字段名：小写下划线分隔
   - 主键：id (BIGINT AUTO_INCREMENT)
   - 时间字段：created_at, updated_at

### 前端开发规范

1. **组件结构**
   - 一个组件一个文件
   - 组件名使用PascalCase
   - Props命名使用camelCase

2. **状态管理**
   - 使用React Hooks
   - Context用于全局状态
   - 本地状态用useState

3. **样式规范**
   - CSS Modules或styled-components
   - 响应式设计
   - 统一的颜色、字体规范

4. **代码质量**
   - ESLint代码检查
   - 代码格式化 (Prettier)
   - Git提交规范

## 未来规划

1. **性能优化**
   - 引入Redis缓存策略，优化高频数据访问。
   - 前端代码分割与懒加载优化。

2. **安全增强**
   - 增加接口限流 (Rate Limiting)。
   - 加强输入验证与XSS/CSRF防护。

3. **UI/UX 改进**
   - 支持深色模式 (Dark Mode)。
   - 优化移动端响应式体验。

4. **部署与运维**
   - Docker 容器化部署。
   - 搭建 CI/CD 流水线。

---

## 贡献指南

欢迎贡献代码！请遵循以下步骤：

1. Fork 本仓库
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启 Pull Request

---

## 许可证

本项目采用 MIT 许可证。详见 LICENSE 文件。

---

## 联系方式

如有问题或建议，请通过以下方式联系：

- GitHub Issues: https://github.com/KirisameMarisa0602/PenRoseBlog/issues
- Email: your-email@example.com

---

## 🚀 未来规划 (Roadmap)

### 📅 短期计划 (Next Steps)
- **性能优化**:
  - 引入代码分割 (Code Splitting) 和懒加载 (Lazy Loading) 优化首屏加载速度。
  - 优化图片资源加载，引入 WebP 格式支持。
- **功能增强**:
  - 完善 AI 助手功能，支持更多上下文对话。
  - 增加用户动态（Feed）流功能。
- **测试覆盖**:
  - 增加后端单元测试覆盖率至 80% 以上。
  - 引入前端 E2E 测试 (Cypress/Playwright)。

### 📅 中长期计划
- **微服务化探索**: 当业务复杂度增加时，考虑将 AI 服务或消息服务拆分为独立微服务。
- **容器化部署**: 编写 Dockerfile 和 Docker Compose 文件，实现一键部署。
- **CI/CD**: 搭建 GitHub Actions 流水线，实现自动化构建和部署。
- **多端适配**: 进一步优化移动端体验，或开发 React Native 移动端 App。

---

## 更新日志

### v0.2.1 (2025-12-10)
- ♻️ **深度重构与优化**:
  - **前端架构升级**:
    - 实施严格的样式分离策略：所有组件和页面的样式文件已迁移至 `src/styles` 目录，并使用 `@styles` 别名进行统一引用，彻底解耦逻辑与样式。
    - 规范化导入路径：全面替换相对路径引用为别名引用，提高代码可维护性。
    - 目录结构校验：确认 `pages`、`components`、`utils`、`hooks` 等目录职责清晰，无越界文件。
  - **后端架构确认**:
    - 验证 Spring Boot 分层架构（Controller-Service-Repository），确认职责单一，无逻辑泄露。
    - 确认项目无编译错误或严重警告。
  - **文档更新**:
    - 更新项目文档，反映最新的架构状态和优化成果。

### v0.2.0 (2025-12-10)
- ♻️ **重构与优化**:
  - **后端**: 强化分层架构，修复Mapper映射警告，清理冗余代码。
  - **前端**:
    - 目录结构重构：页面归入 `pages`，组件归入 `components`。
    - **样式分离**：所有CSS提取至 `src/styles`，移除内联样式，实现样式与逻辑分离。
    - 清理未使用的文件 (`App.css`)。
- 🐛 修复后端编译警告。

### v0.1.0 (2024-12-07)
- ✨ 添加用户修改密码功能
- ✨ 添加文章收藏系统（数据模型）
- ✨ 添加文章分类系统
- ✨ 添加文章标签系统
- 📝 完善项目文档
- 🐛 修复MapStruct映射警告

### v0.0.1 (2024-01-01)
- 🎉 项目初始化
- ✨ 基础功能实现
  - 用户注册登录
  - 文章CRUD
  - 评论系统
  - 社交功能
  - 私信系统
  - 第三方登录
  - AI助手集成

---

## 致谢

感谢以下开源项目：

- Spring Boot
- React
- Vite
- TipTap
- MapStruct
- 以及所有使用的开源库

---

**项目持续更新中，欢迎关注和贡献！**
