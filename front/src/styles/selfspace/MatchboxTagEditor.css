/* Scoped styles for MatchboxTagEditor */
@import url("https://fonts.googleapis.com/css?family=BenchNine:700&display=swap");

.matchbox-wrapper {
    --mb-outline: #302519;
    --mb-bg: #f1d6bc;
    --mb-match-head: #b36b4a;
    --mb-match-stick: #f1d6bc;
    --mb-border: 6px;

    /* Dimensions */
    --mb-w: 240px;
    /* Width of the box face */
    --mb-h: 160px;
    /* Height of the box face */
    --mb-d: 80px;
    /* Depth of the box */

    font-family: "BenchNine", sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 320px;
    /* Reserve space for rotation and perspective */
    perspective: 1000px;
    overflow: visible;
}

/* Read-only mode (Display mode) adjustments - Expanded Size */
.matchbox-wrapper.readonly {
    --mb-w: 280px;
    --mb-h: 180px;
    --mb-d: 80px;
    height: 340px;
    margin-top: 0;
    margin-bottom: 0;
}

.matchbox-wrapper.readonly .mb-label-circle {
    width: 90px;
    height: 90px;
}

.matchbox-wrapper.readonly .mb-label-text {
    font-size: 1.3rem;
}

.matchbox-wrapper.readonly .mb-subtext {
    font-size: 0.9rem;
}

.matchbox-wrapper.readonly .mb-match {
    height: 24px;
    padding-left: 30px;
}

.matchbox-wrapper.readonly .mb-match::before {
    width: 20px;
    height: 16px;
}

.matchbox-wrapper.readonly .mb-match-text {
    font-size: 1rem;
}

.matchbox-container {
    width: var(--mb-w);
    height: var(--mb-h);
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    /* Initial view angle */
    transform: rotate(-10deg) rotateX(20deg) rotateZ(-5deg);
    cursor: pointer;
}

/* Hover state for the whole box */
.matchbox-wrapper:hover .matchbox-container {
    transform: rotate(-20deg) rotateX(35deg) rotateZ(-10deg);
}

/* Common face styles */
.mb-face {
    position: absolute;
    box-sizing: border-box;
    border: var(--mb-border) solid var(--mb-outline);
    background: var(--mb-bg);
    display: flex;
    justify-content: center;
    align-items: center;
}

/* --- OUTSIDE BOX --- */
.mb-outer {
    transform-style: preserve-3d;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
}

.mb-outer .front,
.mb-outer .back {
    width: var(--mb-w);
    height: var(--mb-h);
}

.mb-outer .front {
    transform: translateZ(calc(var(--mb-d) / 2));
    z-index: 10;
    /* Front decoration */
    flex-direction: column;
    overflow: hidden;
}

.mb-outer .back {
    transform: rotateX(-180deg) translateZ(calc(var(--mb-d) / 2));
}

.mb-outer .top,
.mb-outer .bottom {
    width: var(--mb-w);
    height: var(--mb-d);
    top: calc(50% - var(--mb-d) / 2);
}

.mb-outer .top {
    transform: rotateX(90deg) translateZ(calc(var(--mb-h) / 2));
}

.mb-outer .bottom {
    transform: rotateX(-90deg) translateZ(calc(var(--mb-h) / 2));
    border-bottom-width: calc(var(--mb-border) * 2);
    /* Striker texture */
    background-image: radial-gradient(var(--mb-outline) 20%, transparent 20%),
        radial-gradient(var(--mb-outline) 20%, transparent 20%);
    background-position: 0 0, 4px 4px;
    background-size: 8px 8px;
}

.mb-outer .left,
.mb-outer .right {
    width: var(--mb-d);
    height: var(--mb-h);
    left: calc(50% - var(--mb-d) / 2);
}

.mb-outer .right {
    transform: rotateY(90deg) translateZ(calc(var(--mb-w) / 2));
}

.mb-outer .left {
    transform: rotateY(-90deg) translateZ(calc(var(--mb-w) / 2));
    background: var(--mb-outline);
    /* Dark side */
    /* Fix for overlap issue: ensure it doesn't stick out too much */
    backface-visibility: hidden;
}

/* Front Decoration (Label) */
.mb-label-circle {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: var(--mb-outline);
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 10px;
}

.mb-label-text {
    color: var(--mb-bg);
    font-size: 1.5rem;
    text-transform: uppercase;
    text-align: center;
    line-height: 1;
    transform: rotate(-5deg);
}

.mb-subtext {
    color: var(--mb-outline);
    font-size: 1rem;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 2px;
}

/* --- INSIDE DRAWER --- */
.mb-inner {
    width: calc(var(--mb-w) - var(--mb-border) * 2);
    height: calc(var(--mb-h) - var(--mb-border) * 2);
    position: absolute;
    top: var(--mb-border);
    left: var(--mb-border);
    transform-style: preserve-3d;
    transition: transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
    /* Initial position inside */
    transform: translateZ(0);
}

/* Slide out on hover */